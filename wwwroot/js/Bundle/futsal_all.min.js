function onRegisterBegin(){$.validator.unobtrusive.parse("#frmFutsalOrg")}function openFutsalOrgModal(n,t){$.ajax({type:"GET",url:"FutsalOrg/AddUpdate",data:{orgId:n,title:t},success:function(n){$("#futsalOrgPartialView").html(n);$("#futsalOrgPartialView").modal("show")}})}function addUpdateFutsalOrg(n,t){openFutsalOrgModal(n,t)}function deleteFutsalOrg(n){confirmDialog("Are you sure?",t=>{t&&$.ajax({url:"FutsalOrg/DeleteOrg",data:{orgId:n},type:"POST",success:function(n){ShowMessage(n.success,n.message);n.success&&$("#tblFutsalOrg").bootstrapTable("refresh")}})})}function orgRowStyle(n){return n.isActive?{classes:"text-grey-900"}:{classes:"alert-danger"}}function searchFutsalOrg(){$("#tblFutsalOrg").bootstrapTable("refresh",{query:{limit:10,offset:0}})}function queryFutsalOrgParams(n){var i=$("#orgName").val(),t=$("#configDistrict").val();return t==="-- Select District --"&&(t=0),n.orgName=i,n.configDistrictId=t,n}function runningFormatter(n,t,i){var r=$("#tblFutsalOrg").bootstrapTable("getOptions");return(r.pageNumber-1)*r.pageSize+(1+i)}function viewInOrgMap(){$.ajax({type:"GET",url:"FutsalOrg/ViewInMap",success:function(n){$("#orgMapPartialView").html(n);$("#orgMapPartialView").modal("show")}})}function loadFacilities(n){$.ajax({url:"Facilities/GetFacilitiesView",data:{Organizationid:n},type:"GET",success:function(n){$("#facilities").html(n)}})}function loadSchedule(n){$.ajax({url:"OrgTimeSchedule/GetOrgTimeSchedule",data:AddAntiForgeryToken({orgId:n}),type:"POST",success:function(n){$("#schedule").html(n)}})}function loadBasicInfo(n){$.ajax({url:"FutsalOrg/LoadBasicInfo",data:AddAntiForgeryToken({orgId:n}),type:"POST",success:function(n){$("#futsalBasicInfo").html(n)}})}function loadFutsalImages(n){$.ajax({url:"FutsalOrg/LoadFutsalImages",data:AddAntiForgeryToken({orgId:n}),type:"POST",success:function(n){$("#futsalImages").html(n)}})}function goToStep(n){stepper.to(n)}function saveBasicInfo(){$.ajax({url:"FutsalOrg/SaveFutsalOrg",data:AddAntiForgeryToken({model:getBasicModel()}),type:"POST",success:function(n){n.success?($("#OrganizationId").val(n.returnObject.organizationId),stepper.next()):ShowMessage(n.success,n.message)}})}function getBasicModel(){return{OrganizationId:$("#OrganizationId").val(),Description:$("#Description").val(),Address:$("#Address").val(),IsActive:$("#IsActive").is(":checked"),Title:$("#Title").val(),Pricing:$("#Pricing").val(),LatLocation:$("#LatLocation").val(),LonLocation:$("#LonLocation").val(),UserNote:$("#UserNote").val(),FacebookLink:$("#FacebookLink").val(),ConfigDistrictId:$("#ConfigDistrictId").val(),WebSite:$("#WebSite").val(),OfficePhone:$("#OfficePhone").val(),MobileNo:$("#MobileNo").val(),ConfigAppTypeId:$("#ConfigAppTypeId").val()}}function fileLoaded(n){readURL(n)}function readURL(n){if(n.files&&n.files[0]){var t=new FileReader;t.onload=function(n){$(".noimage").remove();$(".carousel-inner").append(`<div class="carousel-item active">
                                            <img class="d-block w-100 imgSize" src=${n.target.result} alt="New Image">
                                           </div>`)};t.readAsDataURL(n.files[0])}}function uploadImage(){var r=$("#imgFutsal"),i,n,t;if($(r).val()===""){ShowMessage(!1,"Please select image to upload.");return}for(i=r[0].files,n=new FormData,t=0;t!==i.length;t++)n.append("files",i[t]);n.append("OrganizationId",$("#OrganizationId").val());n.append("__RequestVerificationToken",$("input[name=__RequestVerificationToken]").val());$.ajax({url:"FutsalOrg/UploadImage",data:n,processData:!1,contentType:!1,type:"POST",success:function(n){ShowMessage(n.success,n.message)}})}function onStartFacilities(){$.validator.unobtrusive.parse("#frmFacilities")}function onSaveFacilities(n){ShowMessage(n.success,n.message)}function saveFacilities(){$.ajax({url:"Facilities/SaveFacilities",data:AddAntiForgeryToken({model:getFacilityModel()}),type:"POST",success:function(n){ShowMessage(n.success,n.message);n.success&&$(".availablefacilitiesList").append(`<ul class="list-group list-group-flush  col-xl-6 mt-2">

                            <li class="list-group-item list-group-item-info rounded-pill d-flex justify-content-between">
                                <span class="badge badge-danger badge-pill text-center" onclick="deleteFacilities(${n.returnObject.facilitiesId}, this)"> 
                                    <i class="fas fa-trash "></i>
                                </span>
                                ${n.returnObject.description}
                                <span class="badge badge-success badge-pill" onclick="addToOrgFacilities(${n.returnObject.facilitiesId}, '${n.returnObject.description}')">
                                    <i class="fas fa-plus"></i>
                                </span>
                            </li>

                        </ul>`)}})}function getFacilityModel(){return{OrganizationId:$("#OrganizationId").val(),Description:$("#inputDescription").val()}}function deleteFacilities(n,t){confirmDialog("Are you sure?",i=>{i&&$.ajax({url:"Facilities/DeleteFacilities",data:AddAntiForgeryToken({fId:n}),type:"POST",success:function(n){ShowMessage(n.success,n.message);$(t).closest("ul").remove()}})})}function addToOrgFacilities(n,t){var i=$("#OrganizationId").val();confirmDialog("Are you sure?",r=>{r&&$.ajax({url:"Facilities/AddToOrgFacilities",data:AddAntiForgeryToken({facilityId:n,orgId:i,title:t}),type:"POST",success:function(n){ShowMessage(n.success,n.message);n.success&&$(".mappedFacilitiesList").append(`<ul class="list-group list-group-flush  col-xl-6 mt-2">

                        <li class="list-group-item list-group-item-info rounded-pill d-flex justify-content-between">
                           ${n.returnObject.description}
                            <span class="badge badge-danger badge-pill text-center" onclick="unlinkFacilities(${n.returnObject.orgFacilitiesId}, this)">
                                <i class="fas fa-trash "></i>
                            </span>

                        </li>

                    </ul>`)}})})}function unlinkFacilities(n,t){confirmDialog("Are you sure?",i=>{i&&$.ajax({url:"Facilities/RemoveFromOrgFacilities",data:AddAntiForgeryToken({orgFacilityId:n}),type:"POST",success:function(n){ShowMessage(n.success,n.message);n.success&&$(t).closest("ul").remove()}})})}function getAvailableFacilities(n){$.ajax({url:"Facilities/GetAvailableFacilities",type:"POST",data:AddAntiForgeryToken({search:n}),success:function(n){$("#availableFacilities").html(n)}})}function getOrgFacilities(){$.ajax({url:"Facilities/GetMappedFacilities",type:"POST",data:AddAntiForgeryToken({orgId:$("#OrganizationId").val()}),success:function(n){$("#mappedFacilities").html(n)}})}function addUpdateFacilities(n){$.ajax({url:"Facilities/AddUpdate",type:"POST",data:AddAntiForgeryToken({facilitesId:n}),success:function(n){$("#addupdateFacilitesPartialView").html(n);$("#addupdateFacilitesPartialView").show()}})}function searchFacilites(n){n=$("#facilitesSearch").val();getAvailableFacilities(n)}